#N canvas 127 22 1194 784 10;
#X obj 234 -84 inlet;
#X obj 449 -106 inlet;
#X obj 317 310 v c1\$0;
#X obj 356 206 v a1\$0;
#X obj 285 361 v r3\$0;
#X obj 258 410 v r4\$0;
#X obj 251 -5 unpack f f f f;
#X obj 251 99 v x1\$0;
#X obj 278 127 v y1\$0;
#X obj 305 96 v x2\$0;
#X obj 332 123 v y2\$0;
#X obj 450 -30 unpack f f f f;
#X obj 464 101 v x3\$0;
#X obj 491 125 v y3\$0;
#X obj 518 98 v x4\$0;
#X obj 545 125 v y4\$0;
#X obj 224 155 t b b b b;
#X obj 317 152 t b b b;
#X obj 336 234 expr x1\$0-x2\$0;
#X obj 317 287 expr (x2\$0*y1\$0)-(x1\$0*y2\$0);
#X obj 258 310 t b b;
#X obj 285 334 expr (a1\$0*x3\$0)+(b1\$0*y3\$0)+c1\$0;
#X obj 258 384 expr (a1\$0*x4\$0)+(b1\$0*y4\$0)+c1\$0;
#X obj 336 258 v b1\$0;
#X obj 241 434 expr if(r3\$0*r4\$0 >= 0 \, 1 \, 0);
#X obj 241 519 invert;
#X obj 208 557 spigot;
#X obj 24 3 t b b b b;
#X obj 75 28 expr y4\$0-y3\$0;
#X obj 75 52 v a2\$0;
#X obj 58 103 v b2\$0;
#X obj 58 79 expr x3\$0-x4\$0;
#X obj 41 157 v c2\$0;
#X obj 41 133 expr (x4\$0*y3\$0)-(x3\$0*y4\$0);
#X obj 24 179 t b b b b;
#X obj 75 205 t b b;
#X obj 102 256 v r1\$0;
#X obj 75 301 v r2\$0;
#X obj 102 229 expr (a2\$0*x1\$0)+(b2\$0*y1\$0)+c2\$0;
#X obj 75 279 expr (a2\$0*x2\$0)+(b2\$0*y2\$0)+c2\$0;
#X obj -9 321 expr if(r1\$0*r2\$0 >= 0 \, 1 \, 0);
#X obj 26 415 invert;
#X obj -7 469 spigot;
#X obj -7 494 expr (a1\$0*b2\$0)-(a2\$0*b1\$0);
#X obj -122 365 invert;
#X obj -155 389 spigot;
#X obj -128 435 < 0;
#X obj -128 463 + 1;
#X obj -195 511 gate 2;
#X obj -357 -57 t b b b b;
#X obj -306 -32 expr (b1\$0*c2\$0)-(b2\$0*c1\$0);
#X obj -323 55 < 0;
#X obj -323 78 + 1;
#X obj -323 103 gate 2;
#X obj -434 255 t b b b b;
#X obj -400 353 < 0;
#X obj -400 376 + 1;
#X obj -400 401 gate 2;
#X obj -383 280 expr (a2\$0*c1\$0)-(a1\$0*c2\$0);
#X obj 505 212 outlet INTERSECT;
#X obj 241 497 t f f;
#X obj 312 517 sel 1;
#X obj 113 537 sel 1;
#X obj 26 391 t f f;
#X obj -9 363 expr if((r1\$0 !=0 ) && (r2\$0 !=0 ) && $f1 \, 1 \, 0)
;
#X obj 241 474 expr if((r3\$0 !=0 ) && (r4\$0 !=0 ) && $f1 \, 1 \,
0);
#X obj 356 182 expr y2\$0-y1\$0;
#X obj -105 340 t f f;
#X obj -78 365 sel 1;
#X obj 312 564 s \$0-return;
#X obj 113 581 s \$0-return;
#X obj -78 409 s \$0-return;
#X msg -78 387 1;
#X obj -195 605 t b f;
#X obj -383 303 v num2\$0;
#X obj -400 329 v num2\$0;
#X msg -434 500 2;
#X obj -434 523 s \$0-return;
#X msg 312 539 0;
#X msg 113 559 0;
#X obj 505 184 r \$0-return;
#X obj -373 604 outlet y;
#X obj -318 258 outlet x;
#X obj -367 356 v num2\$0;
#X obj -307 18 t f f;
#X obj -7 539 t f f;
#X obj -195 536 expr $f1/-2;
#X obj -162 558 expr $f1/2;
#X obj -132 286 t f f;
#X obj -105 316 == 0;
#X obj -155 411 t f f;
#X obj 448 -50 list;
#X obj 251 -24 list;
#X obj 234 -56 t b b b a;
#X obj 447 4 k_range -4 4 0 200;
#X obj 474 24 k_range 4 -4 0 200;
#X obj 501 43 k_range -4 4 0 200;
#X obj 528 63 k_range 4 -4 0 200;
#X obj -373 574 k_range 0 200 4 -4;
#X obj -319 196 k_range 0 200 -4 4;
#X obj 449 -83 t b a;
#X obj -271 45 t f f f f;
#X obj -400 428 expr ($f1 - $f3) / $f2;
#X obj -367 455 expr ($f1 + $f3) /$f2;
#X obj -290 157 expr ($f1 + $f3) / $f2;
#X obj -323 130 expr ($f1 - $f3) / $f2;
#X obj -187 70 t f f f f;
#X connect 0 0 93 0;
#X connect 1 0 100 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 6 2 9 0;
#X connect 6 3 10 0;
#X connect 11 0 94 0;
#X connect 11 1 95 0;
#X connect 11 2 96 0;
#X connect 11 3 97 0;
#X connect 16 0 26 0;
#X connect 16 1 24 0;
#X connect 16 2 20 0;
#X connect 16 3 17 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 17 2 66 0;
#X connect 18 0 23 0;
#X connect 19 0 2 0;
#X connect 20 0 22 0;
#X connect 20 1 21 0;
#X connect 21 0 4 0;
#X connect 22 0 5 0;
#X connect 24 0 65 0;
#X connect 25 0 26 1;
#X connect 26 0 27 0;
#X connect 27 0 34 0;
#X connect 27 1 33 0;
#X connect 27 2 31 0;
#X connect 27 3 28 0;
#X connect 28 0 29 0;
#X connect 31 0 30 0;
#X connect 33 0 32 0;
#X connect 34 1 42 0;
#X connect 34 2 40 0;
#X connect 34 3 35 0;
#X connect 35 0 39 0;
#X connect 35 1 38 0;
#X connect 38 0 36 0;
#X connect 39 0 37 0;
#X connect 40 0 64 0;
#X connect 41 0 42 1;
#X connect 42 0 43 0;
#X connect 43 0 85 0;
#X connect 44 0 45 1;
#X connect 45 0 90 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 48 0 86 0;
#X connect 48 1 87 0;
#X connect 49 0 54 0;
#X connect 49 3 50 0;
#X connect 50 0 84 0;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 53 0 105 0;
#X connect 53 1 104 0;
#X connect 54 0 76 0;
#X connect 54 1 83 0;
#X connect 54 2 75 0;
#X connect 54 3 58 0;
#X connect 55 0 56 0;
#X connect 56 0 57 0;
#X connect 57 0 102 0;
#X connect 57 1 103 0;
#X connect 58 0 74 0;
#X connect 60 0 25 0;
#X connect 60 1 61 0;
#X connect 61 0 78 0;
#X connect 62 0 79 0;
#X connect 63 0 41 0;
#X connect 63 1 62 0;
#X connect 64 0 63 0;
#X connect 65 0 60 0;
#X connect 66 0 3 0;
#X connect 67 0 44 0;
#X connect 67 1 68 0;
#X connect 68 0 72 0;
#X connect 72 0 71 0;
#X connect 73 0 49 0;
#X connect 73 1 106 0;
#X connect 75 0 55 0;
#X connect 76 0 77 0;
#X connect 78 0 69 0;
#X connect 79 0 70 0;
#X connect 80 0 59 0;
#X connect 83 0 57 1;
#X connect 84 0 53 1;
#X connect 84 1 51 0;
#X connect 85 0 88 0;
#X connect 85 1 101 0;
#X connect 86 0 73 0;
#X connect 87 0 73 0;
#X connect 88 0 45 0;
#X connect 88 1 89 0;
#X connect 89 0 67 0;
#X connect 90 0 48 1;
#X connect 90 1 46 0;
#X connect 91 0 11 0;
#X connect 92 0 6 0;
#X connect 93 0 16 0;
#X connect 93 1 92 0;
#X connect 93 2 91 0;
#X connect 93 3 92 1;
#X connect 94 0 12 0;
#X connect 95 0 13 0;
#X connect 96 0 14 0;
#X connect 97 0 15 0;
#X connect 98 0 81 0;
#X connect 99 0 82 0;
#X connect 100 0 91 0;
#X connect 100 1 91 1;
#X connect 101 0 102 1;
#X connect 101 1 103 1;
#X connect 101 2 105 1;
#X connect 101 3 104 1;
#X connect 102 0 98 0;
#X connect 103 0 98 0;
#X connect 104 0 99 0;
#X connect 105 0 99 0;
#X connect 106 0 105 2;
#X connect 106 1 104 2;
#X connect 106 2 102 2;
#X connect 106 3 103 2;
